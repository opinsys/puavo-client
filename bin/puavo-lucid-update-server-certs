#!/bin/sh

if [ "$1" = "" ]; then
  echo "Usage: puavo-lucid-update-certs <device type>"
  exit
fi

if [ "$1" != "ltspserver" ] && [ "$1" != "laptop" ] && [ "$1" != "infotv" ]; then
  echo "Invalid device type (ltspserver, laptop, infotv)"
  exit
fi

if [ "$1" = "ltspserver" ]; then
    echo "install -m 644 /etc/puavo/certs/host.crt /etc/ssl/certs/slapd-server.crt"
fi

echo "install -m 444 /etc/puavo/certs/host.crt /etc/openvpn/keys/host.crt"
echo "install -m 644 -o puppet /etc/puavo/certs/host.crt /etc/puppet/ssl/certs/$( hostname -f ).pem"

